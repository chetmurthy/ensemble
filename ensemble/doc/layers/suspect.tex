\begin{Layer}{SUSPECT}

This layer regularly pings other members to check for suspected
failures.  Suspected failures are announce in a \DnSuspect\ event to
the layer below (which will be bounced back up by a layer such as the
BOTTOM layer).

\begin{Protocol}
Simple pinging protocol.  Uses a sweep interval.  On each sweep, Ping
messages are broadcast unreliably to the entire group.  Also, the
number of sweep rounds since the last Ping was received from other
members is checked and if it exceed the \mlval{max\_idle} threshold
then a \DnSuspect\ event is generated.  \hide{Suspicions are repeated
until a Ping message is received from the suspected member.}
\end{Protocol}

\begin{Parameters}
\item 
suspect\_sweep : how often to Ping other members and check for suspicions
\item
suspect\_max\_idle : number of unacknowledged Ping messages before generating
failure suspicions.
\end{Parameters}

\begin{Properties}
\item
Suspicions are no guarantee that an actual failure has occured, only a guess.
\end{Properties}

\begin{Notes}
\item None
\end{Notes}

\begin{Sources}
\sourcesfile{suspect.ml}
\end{Sources}

\begin{GenEvent}
\genevent{\DnSuspect}
\genevent{\DnCast}
\genevent{\DnTimer}
\end{GenEvent}

\begin{Testing}
\item see the VSYNC stack
\end{Testing}
\end{Layer}
