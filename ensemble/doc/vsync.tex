%*************************************************************%
%
%    Ensemble, 1.10
%    Copyright 2001 Cornell University, Hebrew University
%    All rights reserved.
%
%    See ensemble/doc/license.txt for further information.
%
%*************************************************************%
\begin{Stack}{VSYNC}

Virtual synchrony is decomposed into a set of 8 independent protocol
layers, listed in figure~\ref{vsynclayers}.  The layers in this stack are
decribed in the layer section.

\begin{table}[b]
\begin{center}
\begin{tabular}{|l|l|l|}			   \hline
name		& purpose			\\ \hline
LEAVE		& reliable group leave		\\ \hline
INTER		& inter-group view management	\\ \hline
INTRA		& intra-group view management	\\ \hline
ELECT		& leader election		\\ \hline
MERGE		& reliable group merge		\\ \hline
SYNC		& view change synchronization	\\ \hline
PT2PT		& FIFO, reliable pt2pt		\\ \hline
SUSPECT		& failure suspcions		\\ \hline
STABLE		& broadcast stability		\\ \hline
MNAK		& FIFO, agreed broadcast	\\ \hline
BOTTOM		& bare-bones communication	\\ \hline
\end{tabular}
\end{center}
\caption{Virtual synchrony protocol stack}
\label{vsynclayers}
\end{table}

\todo{here describe the overall protocol created by composing all
the protocol layers}

\begin{Parameters}
\item \todo{composition of parameters below}
\end{Parameters}

\begin{Protocol}
\todo{composition of protocols below}
\end{Protocol}

\begin{Properties}
\item
\note{some form of composition of properties in layers}
\end{Properties}

\begin{Notes}
\item
Causal ordering can be introduced by replacing the MNAK layer with a
causal implementation of same protocol.
\item
Weak virtual synchrony can be implemented by removing the SYNC layer
and adding application support for managing multiple live protocol
stacks.
\end{Notes}

\begin{Testing}
\item
Use the various testing code described in the component layers.
\item
Version of Jan 12, 1996, tested with $>100000$ random failure scenarios.
\item
Version of April 10, 1997, tested with $>100000$ random failure scenarios.
\item
Random testing is done nightly on debugged VSYNC protocol stack.
\end{Testing}
\end{Stack}
