<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ce.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.10 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>ce.h</h1><a href="ce_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/**************************************************************/</font>
00002 <font class="comment">/* CE.H */</font>
00003 <font class="comment">/* Author: Ohad Rodeh */</font>
00004 <font class="comment">/* Based on code by Mark Hayden and Alexey Vaysburd. */</font>
00005 <font class="comment">/**************************************************************/</font>
00013 <font class="comment">/**************************************************************/</font>
00014 
00015 <font class="preprocessor">#ifndef __CE_H__</font>
00016 <font class="preprocessor"></font><font class="preprocessor">#define __CE_H__</font>
00017 <font class="preprocessor"></font>
00018 <font class="preprocessor">#ifdef _WIN32</font>
00019 <font class="preprocessor"></font><font class="preprocessor">#include &lt;winsock2.h&gt;</font>
00020 <font class="preprocessor">#endif</font>
00021 <font class="preprocessor"></font>
<a name="l00025"></a><a class="code" href="ce_8h.html#a5">00025</a> <font class="keyword">typedef</font> <font class="keywordtype">double</font>      ce_float_t ;
00026 
<a name="l00029"></a><a class="code" href="ce_8h.html#a6">00029</a> <font class="keyword">typedef</font> <font class="keywordtype">int</font>         ce_bool_t ;
00030 
<a name="l00035"></a><a class="code" href="ce_8h.html#a7">00035</a> <font class="keyword">typedef</font> <font class="keywordtype">int</font>         ce_rank_t ;
00036 
<a name="l00039"></a><a class="code" href="ce_8h.html#a8">00039</a> <font class="keyword">typedef</font> <font class="keywordtype">int</font>         ce_ltime_t ;
00040 
<a name="l00043"></a><a class="code" href="ce_8h.html#a9">00043</a> <font class="keyword">typedef</font> <font class="keywordtype">int</font>         ce_len_t ;
00044 
<a name="l00049"></a><a class="code" href="ce_8h.html#a10">00049</a> <font class="keyword">typedef</font> <font class="keywordtype">void</font>       *ce_env_t ;
00050 
<a name="l00053"></a><a class="code" href="ce_8h.html#a11">00053</a> <font class="keyword">typedef</font> <font class="keywordtype">double</font>      ce_time_t ;
00054 
<a name="l00058"></a><a class="code" href="ce_8h.html#a12">00058</a> <font class="keyword">typedef</font> <font class="keywordtype">char</font>*       ce_endpt_t;
00059 
<a name="l00062"></a><a class="code" href="ce_8h.html#a13">00062</a> <font class="keyword">typedef</font> <font class="keywordtype">char</font>*       ce_addr_t;
00063 
<a name="l00066"></a><a class="code" href="ce_8h.html#a14">00066</a> <font class="keyword">typedef</font> <font class="keywordtype">char</font>       *ce_data_t;
00067 
<a name="l00071"></a><a class="code" href="ce_8h.html#a15">00071</a> <font class="keyword">typedef</font> ce_endpt_t *ce_endpt_array_t ;
00072 
<a name="l00075"></a><a class="code" href="ce_8h.html#a16">00075</a> <font class="keyword">typedef</font> ce_rank_t  *ce_rank_array_t ;
00076 
<a name="l00080"></a><a class="code" href="ce_8h.html#a17">00080</a> <font class="keyword">typedef</font> ce_addr_t  *ce_addr_array_t ;
00081 
<a name="l00091"></a><a class="code" href="structce__view__id__t.html">00091</a> <font class="keyword">typedef</font> <font class="keyword">struct </font><a class="code" href="structce__view__id__t.html">ce_view_id_t</a> {
<a name="l00092"></a><a class="code" href="structce__view__id__t.html#m0">00092</a>     ce_ltime_t ltime ;
<a name="l00093"></a><a class="code" href="structce__view__id__t.html#m1">00093</a>     ce_endpt_t endpt ;
00094 } <a class="code" href="structce__view__id__t.html">ce_view_id_t</a> ;
00095 
<a name="l00098"></a><a class="code" href="ce_8h.html#a19">00098</a> <font class="keyword">typedef</font> <a class="code" href="structce__view__id__t.html">ce_view_id_t</a> **ce_view_id_array_t;
00099 
<a name="l00105"></a><a class="code" href="structce__view__state__t.html">00105</a> <font class="keyword">typedef</font> <font class="keyword">struct </font><a class="code" href="structce__view__state__t.html">ce_view_state_t</a> {
<a name="l00106"></a><a class="code" href="structce__view__state__t.html#m0">00106</a>   <font class="keywordtype">char</font>* version ;                
<a name="l00107"></a><a class="code" href="structce__view__state__t.html#m1">00107</a>   <font class="keywordtype">char</font>* group ;                  
<a name="l00108"></a><a class="code" href="structce__view__state__t.html#m2">00108</a>   ce_rank_t coord ;              
<a name="l00109"></a><a class="code" href="structce__view__state__t.html#m3">00109</a>   <font class="keywordtype">int</font> ltime ;                    
<a name="l00110"></a><a class="code" href="structce__view__state__t.html#m4">00110</a>   ce_bool_t primary ;            
<a name="l00111"></a><a class="code" href="structce__view__state__t.html#m5">00111</a>   <font class="keywordtype">char</font>* proto ;                  
<a name="l00112"></a><a class="code" href="structce__view__state__t.html#m6">00112</a>   ce_bool_t groupd ;             
<a name="l00113"></a><a class="code" href="structce__view__state__t.html#m7">00113</a>   ce_bool_t xfer_view ;          
<a name="l00114"></a><a class="code" href="structce__view__state__t.html#m8">00114</a>   <font class="keywordtype">char</font>* key ;                    
<a name="l00115"></a><a class="code" href="structce__view__state__t.html#m9">00115</a>   <font class="keywordtype">int</font> num_ids ;                  
<a name="l00116"></a><a class="code" href="structce__view__state__t.html#m10">00116</a>   ce_view_id_array_t prev_ids ;  
<a name="l00117"></a><a class="code" href="structce__view__state__t.html#m11">00117</a>   <font class="keywordtype">char</font> *params;                  
<a name="l00118"></a><a class="code" href="structce__view__state__t.html#m12">00118</a>   ce_time_t uptime ;             
<a name="l00119"></a><a class="code" href="structce__view__state__t.html#m13">00119</a>   ce_endpt_array_t view ;        
<a name="l00120"></a><a class="code" href="structce__view__state__t.html#m14">00120</a>   ce_addr_array_t address ;      
00121 } <a class="code" href="structce__view__state__t.html">ce_view_state_t</a> ;
00122 
<a name="l00127"></a><a class="code" href="structce__local__state__t.html">00127</a> <font class="keyword">typedef</font> <font class="keyword">struct </font><a class="code" href="structce__local__state__t.html">ce_local_state_t</a> {
<a name="l00128"></a><a class="code" href="structce__local__state__t.html#m0">00128</a>   ce_endpt_t endpt ;             
<a name="l00129"></a><a class="code" href="structce__local__state__t.html#m1">00129</a>   ce_addr_t addr ;               
<a name="l00130"></a><a class="code" href="structce__local__state__t.html#m2">00130</a>   ce_rank_t rank ;               
<a name="l00131"></a><a class="code" href="structce__local__state__t.html#m3">00131</a>   <font class="keywordtype">char</font>* name ;                   
<a name="l00132"></a><a class="code" href="structce__local__state__t.html#m4">00132</a>   <font class="keywordtype">int</font> nmembers ;                 
<a name="l00133"></a><a class="code" href="structce__local__state__t.html#m5">00133</a>   <a class="code" href="structce__view__id__t.html">ce_view_id_t</a> *view_id ;        
<a name="l00134"></a><a class="code" href="structce__local__state__t.html#m6">00134</a>   ce_bool_t am_coord ;           
00135 } <a class="code" href="structce__local__state__t.html">ce_local_state_t</a> ;
00136 
<a name="l00141"></a><a class="code" href="structce__jops__t.html">00141</a> <font class="keyword">typedef</font> <font class="keyword">struct </font><a class="code" href="structce__jops__t.html">ce_jops_t</a> {
<a name="l00142"></a><a class="code" href="structce__jops__t.html#m0">00142</a>   ce_time_t hrtbt_rate ;         
<a name="l00143"></a><a class="code" href="structce__jops__t.html#m1">00143</a>   <font class="keywordtype">char</font> *transports ;             
<a name="l00144"></a><a class="code" href="structce__jops__t.html#m2">00144</a>   <font class="keywordtype">char</font> *protocol ;               
<a name="l00145"></a><a class="code" href="structce__jops__t.html#m3">00145</a>   <font class="keywordtype">char</font> *group_name ;             
<a name="l00146"></a><a class="code" href="structce__jops__t.html#m4">00146</a>   <font class="keywordtype">char</font> *properties ;             
<a name="l00147"></a><a class="code" href="structce__jops__t.html#m5">00147</a>   ce_bool_t use_properties ;     
<a name="l00148"></a><a class="code" href="structce__jops__t.html#m6">00148</a>   ce_bool_t groupd ;             
<a name="l00149"></a><a class="code" href="structce__jops__t.html#m7">00149</a>   <font class="keywordtype">char</font> *params ;                 
<a name="l00150"></a><a class="code" href="structce__jops__t.html#m8">00150</a>   ce_bool_t debug ;              
<a name="l00151"></a><a class="code" href="structce__jops__t.html#m9">00151</a>   ce_bool_t client;              
<a name="l00152"></a><a class="code" href="structce__jops__t.html#m10">00152</a>   <font class="keywordtype">char</font> *endpt ;                  
<a name="l00153"></a><a class="code" href="structce__jops__t.html#m11">00153</a>   <font class="keywordtype">char</font> *princ ;                  
<a name="l00154"></a><a class="code" href="structce__jops__t.html#m12">00154</a>   <font class="keywordtype">char</font> *key ;                    
<a name="l00155"></a><a class="code" href="structce__jops__t.html#m13">00155</a>   ce_bool_t secure ;             
00156 } <a class="code" href="structce__jops__t.html">ce_jops_t</a>;
00157 
<a name="l00161"></a><a class="code" href="ce_8h.html#a0">00161</a> <font class="preprocessor">#define CE_DEFAULT_PROTOCOL \</font>
00162 <font class="preprocessor">    "Top:Heal:Switch:Leave:" \</font>
00163 <font class="preprocessor">    "Inter:Intra:Elect:Merge:Sync:Suspect:" \</font>
00164 <font class="preprocessor">    "Stable:Vsync:Frag_Abv:Top_appl:" \</font>
00165 <font class="preprocessor">    "Frag:Pt2ptw:Mflow:Pt2pt:Mnak:Bottom"</font>
00166 <font class="preprocessor"></font>
00167 
<a name="l00172"></a><a class="code" href="ce_8h.html#a1">00172</a> <font class="preprocessor">#define CE_DEFAULT_PROPERTIES "Gmp:Sync:Heal:Switch:Frag:Suspect:Flow"</font>
00173 <font class="preprocessor"></font>
00174 <font class="comment">/**************************************************************/</font>
00175 <font class="comment">/*</font>
00176 <font class="comment"> * Utilities</font>
00177 <font class="comment"> */</font>
00178 
<a name="l00181"></a><a class="code" href="ce_8h.html#a2">00181</a> <font class="preprocessor">#define record_create(type, var) ((type)malloc(sizeof(*var)))</font>
00182 <font class="preprocessor"></font> 
<a name="l00185"></a><a class="code" href="ce_8h.html#a3">00185</a> <font class="preprocessor">#define record_free(rec) free(rec)</font>
00186 <font class="preprocessor"></font>
<a name="l00189"></a><a class="code" href="ce_8h.html#a4">00189</a> <font class="preprocessor">#define record_clear(rec) memset(rec, 0, sizeof(*rec))</font>
00190 <font class="preprocessor"></font>
00195 <font class="keywordtype">void</font> <a class="code" href="ce_8h.html#a33">ce_view_full_free</a>(<a class="code" href="structce__local__state__t.html">ce_local_state_t</a> *ls, <a class="code" href="structce__view__state__t.html">ce_view_state_t</a>* vs);
00196 
00200 <font class="keywordtype">void</font> <a class="code" href="ce_8h.html#a34">ce_jops_free</a>(<a class="code" href="structce__jops__t.html">ce_jops_t</a>*) ;
00201 
00202 <font class="comment">/**************************************************************/</font>
00206 
<a name="l00209"></a><a class="code" href="ce_8h.html#a23">00209</a> <font class="keyword">typedef</font> void (*ce_appl_install_t)(ce_env_t, <a class="code" href="structce__local__state__t.html">ce_local_state_t</a>*, <a class="code" href="structce__view__state__t.html">ce_view_state_t</a>*);
00210 
<a name="l00213"></a><a class="code" href="ce_8h.html#a24">00213</a> <font class="keyword">typedef</font> void (*ce_appl_exit_t)(ce_env_t) ;
00214 
<a name="l00217"></a><a class="code" href="ce_8h.html#a25">00217</a> <font class="keyword">typedef</font> void (*ce_appl_receive_cast_t)(ce_env_t, ce_rank_t, ce_len_t, ce_data_t) ;
00218 
<a name="l00221"></a><a class="code" href="ce_8h.html#a26">00221</a> <font class="keyword">typedef</font> void (*ce_appl_receive_send_t)(ce_env_t, ce_rank_t, ce_len_t, ce_data_t) ;
00222 
<a name="l00226"></a><a class="code" href="ce_8h.html#a27">00226</a> <font class="keyword">typedef</font> void (*ce_appl_flow_block_t)(ce_env_t, ce_rank_t, ce_bool_t) ;
00227 
<a name="l00232"></a><a class="code" href="ce_8h.html#a28">00232</a> <font class="keyword">typedef</font> void (*ce_appl_block_t)(ce_env_t) ;
00233 
<a name="l00237"></a><a class="code" href="ce_8h.html#a29">00237</a> <font class="keyword">typedef</font> void (*ce_appl_heartbeat_t)(ce_env_t, ce_time_t) ;
00238 
<a name="l00245"></a><a class="code" href="ce_8h.html#a30">00245</a> <font class="keyword">typedef</font> <font class="keyword">struct </font>ce_appl_intf_t ce_appl_intf_t ;
00246 
00266 ce_appl_intf_t*
00267 <a class="code" href="ce_8h.html#a35">ce_create_intf</a>(ce_env_t env, 
00268                ce_appl_exit_t exit,
00269                ce_appl_install_t install,
00270                ce_appl_flow_block_t flow_block,
00271                ce_appl_block_t block,
00272                ce_appl_receive_cast_t cast,
00273                ce_appl_receive_send_t send,
00274                ce_appl_heartbeat_t heartbeat
00275                );
00276 
00277 <font class="comment">/**************************************************************/</font>
00278 
00282 <font class="keywordtype">void</font> <a class="code" href="ce_8h.html#a36">ce_Init</a>(
00283         <font class="keywordtype">int</font> argc,
00284         <font class="keywordtype">char</font> **argv
00285 ) ;
00286 
00289 <font class="keywordtype">void</font> <a class="code" href="ce_8h.html#a37">ce_Main_loop</a> (
00290 );
00291                           
00296 <font class="keywordtype">void</font> <a class="code" href="ce_8h.html#a38">ce_Join</a>(
00297         <a class="code" href="structce__jops__t.html">ce_jops_t</a> *ops,
00298         ce_appl_intf_t *c_appl
00299 ) ;
00300 
00301 <font class="comment">/**************************************************************/</font>
00302 <font class="comment">/* The set of actions supported on a group. </font>
00303 <font class="comment"> */</font>
00304 
00308 <font class="keywordtype">void</font> <a class="code" href="ce_8h.html#a39">ce_Leave</a>(ce_appl_intf_t *c_appl) ;
00309 
00315 <font class="keywordtype">void</font> <a class="code" href="ce_8h.html#a40">ce_Cast</a>(
00316         ce_appl_intf_t *c_appl,
00317         ce_len_t len, 
00318         ce_data_t buf
00319 ) ;
00320 
00327 <font class="keywordtype">void</font> <a class="code" href="ce_8h.html#a41">ce_Send</a>(
00328         ce_appl_intf_t *c_appl,
00329         ce_rank_array_t dests,
00330         ce_len_t len, 
00331         ce_data_t buf
00332 ) ;
00333 
00334 
00341 <font class="keywordtype">void</font> <a class="code" href="ce_8h.html#a42">ce_Send1</a>(
00342         ce_appl_intf_t *c_appl,
00343         ce_rank_t dest,
00344         ce_len_t len, 
00345         ce_data_t buf
00346 ) ;
00347 
00351 <font class="keywordtype">void</font> <a class="code" href="ce_8h.html#a43">ce_Prompt</a>(
00352         ce_appl_intf_t *c_appl
00353 );
00354 
00359 <font class="keywordtype">void</font> <a class="code" href="ce_8h.html#a44">ce_Suspect</a>(
00360         ce_appl_intf_t *c_appl,
00361         ce_rank_array_t suspects
00362 );
00363         
00367 <font class="keywordtype">void</font> <a class="code" href="ce_8h.html#a45">ce_XferDone</a>(
00368         ce_appl_intf_t *c_appl
00369 ) ;
00370 
00374 <font class="keywordtype">void</font> <a class="code" href="ce_8h.html#a46">ce_Rekey</a>(
00375         ce_appl_intf_t *c_appl
00376 ) ;
00377 
00388 <font class="keywordtype">void</font> <a class="code" href="ce_8h.html#a47">ce_ChangeProtocol</a>(
00389         ce_appl_intf_t *c_appl,
00390         <font class="keywordtype">char</font> *protocol_name
00391 ) ;
00392 
00393 
00400 <font class="keywordtype">void</font> <a class="code" href="ce_8h.html#a48">ce_ChangeProperties</a>(
00401         ce_appl_intf_t *c_appl,
00402         <font class="keywordtype">char</font> *properties
00403 ) ;
00404 
00405 <font class="comment">/**************************************************************/</font>
00408 
00412 <font class="keywordtype">void</font> <a class="code" href="ce_8h.html#a49">ce_MLPrintOverride</a>(
00413         <font class="keywordtype">void</font> (*handler)(<font class="keywordtype">char</font> *msg)
00414 ) ;
00415 
00419 <font class="keywordtype">void</font> <a class="code" href="ce_8h.html#a50">ce_MLUncaughtException</a>(
00420         <font class="keywordtype">void</font> (*handler)(<font class="keywordtype">char</font> *info)
00421 ) ;
00422 
00423 <font class="comment">/**************************************************************/</font>
00427 <font class="preprocessor">#ifdef _WIN32</font>
00428 <font class="preprocessor"></font><font class="keyword">typedef</font> SOCKET CE_SOCKET ;
00429 <font class="preprocessor">#else</font>
<a name="l00430"></a><a class="code" href="ce_8h.html#a31">00430</a> <font class="preprocessor"></font><font class="keyword">typedef</font> <font class="keywordtype">int</font>    CE_SOCKET ;
00431 <font class="preprocessor">#endif</font>
00432 <font class="preprocessor"></font>
<a name="l00435"></a><a class="code" href="ce_8h.html#a32">00435</a> <font class="keyword">typedef</font> void (*ce_handler_t)(<font class="keywordtype">void</font>*);
00436 
00444 <font class="keywordtype">void</font> <a class="code" href="ce_8h.html#a51">ce_AddSockRecv</a>(
00445                     CE_SOCKET socket,
00446                     ce_handler_t handler,
00447                     ce_env_t env
00448                     );
00449 
00453 <font class="keywordtype">void</font> <a class="code" href="ce_8h.html#a52">ce_RmvSockRecv</a>(
00454                     CE_SOCKET socket
00455                     );
00456 
00457 <font class="comment">/**************************************************************/</font>
00458 <font class="preprocessor">#endif </font><font class="comment">/* __CE_H__ */</font>
</pre></div><hr><address><small>Generated at Thu Sep 13 13:12:45 2001 for CE by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.10 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
