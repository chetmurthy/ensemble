%*************************************************************%
%
%    Ensemble, 1_42
%    Copyright 2003 Cornell University, Hebrew University
%           IBM Israel Science and Technology
%    All rights reserved.
%
%    See ensemble/doc/license.txt for further information.
%
%*************************************************************%
\documentclass[11pt]{article}
\usepackage{fullpage}
\usepackage{alltt}
\usepackage{hyperref}
\input{def}

\newenvironment{FormatTable}{%
\begin{quote}\begin{tabular}{|l|l|} \hline
}{\end{tabular}\end{quote}
}
\newcommand {\formatentry}[2]    {#1 & #2 \\ \hline}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%pdf-latex stuff
%
\newif\ifpdf
\ifx\pdfoutput\undefined
   \pdffalse
\else
   \pdfoutput=1
   \pdftrue
\fi

\ifpdf
  \usepackage[pdftex]{graphicx}
  \pdfcompresslevel=9
  \DeclareGraphicsExtensions{.jpg,.pdf,.mps,.png}
\else
  \usepackage[dvips]{graphics}
\fi
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\title{\ensemble\ Reference Manual}
\author{Mark Hayden, Ohad Rodeh 
\thanks{Thanks to Takako Hickey, Roy Friedman, Robbert van Renesse,
Zhen Xiao, and Ohad Rodeh for descriptions of their contributions.} \\
\small{Copyright \copyright\ 1997 Cornell University,
                             2000 Hebrew  University}
}

\begin{document}
\maketitle

\begin{abstract}
\ensemble\ is a reliable group communication toolkit implemented in the
\caml\ programming language.  The purposes of this implementation are:
\begin{itemize}
\item 
to provide a concise and clear ``reference'' implementation of the \ensemble\
architecture and protocols
\item 
to abstract protocol layer implementations as far as possible from the
runtime system
\item
to support the application of formal methods to real implementations of
distributed communication protocols
\item 
to provide a flexible platform for ease of experimentation
\end{itemize}
Throughout, we attempt to follow a design that supports a simple
compilation of the protocols to C. Two intermediate stages have
recently been taken in the direction 1) the construction of a {\it
native} C interface for Ensemble (CE) and 2) an implementation in C of
the core Ensemble system (available from www.northforknet.com).
\end{abstract}

\newpage
\tableofcontents
\newpage

\section{Introduction}

This document is attempting to serve several goals.  It is intended to be:
\begin{itemize}
\item
A description/motivation of the \ensemble\ architecture.
\item
An aid for learning about the \ensemble\ protocol layers and their workings.
\item
An informal specification of individual protocol layers and common
compositions of the layers.
\item
Documentation of possible alternate designs/implementations of the system.
\item
A depository of specification and verification information developed for
protocol layers.
\item
A depository of descriptions of potential projects.
\item
Source for combined hypertext code/text documentation of \ensemble.
\end{itemize}

\paragraph{Documentation TODO list:}
\begin{itemize}
\item mark all ML values with mlval\{\}
\item add more detail in the event fields section
\item add ``common problems'' section
\begin{itemize}
\item \EInit\ vs. \EView
\end{itemize}
\item layer programming tutorial
\end{itemize}

\newpage
\part{The \ensemble\ Architecture}
\input{id}
\include{event}
\include{event_prot}
\include{layer_model}
\include{layer_antmy}
\include{layer_hdlrs}
\include{transport}
\include{security}
\include{outboard}
\newpage
\part{The \ensemble\ Protocols}
\input{layer_ref}
\appendix
\include{unsafe}
\include{membership}
\include{bimodal}

\end{document}
